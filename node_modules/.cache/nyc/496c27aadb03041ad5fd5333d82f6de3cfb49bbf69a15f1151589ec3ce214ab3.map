{"version":3,"sources":["ads.js"],"names":["postAds","req","res","validateCars","validation","body","error","status","json","details","message","postAd","id","parseInt","postCars","length","createdOn","Date","owner","email","manufacturer","model","price","state","productImage","user","users","find","p","push","data"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;;;AAEA,IAAMA,OAAO,GAAG,SAAVA,OAAU,CAACC,GAAD,EAAMC,GAAN,EAAc;AAAA,8BACVC,yBAAaC,UAAb,CAAwBH,GAAG,CAACI,IAA5B,CADU;AAAA,MACpBC,KADoB,yBACpBA,KADoB;;AAE5B,MAAIA,KAAJ,EAAW;AACT,WAAOJ,GAAG,CAACK,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAED,MAAAA,MAAM,EAAE,GAAV;AAAeD,MAAAA,KAAK,EAAEA,KAAK,CAACG,OAAN,CAAc,CAAd,EAAiBC;AAAvC,KAArB,CAAP;AACD;;AAED,MAAMC,MAAM,GAAG;AACbC,IAAAA,EAAE,EAAEC,QAAQ,CAACC,qBAASC,MAAT,GAAkB,CAAnB,EAAsB,EAAtB,CADC;AAEbC,IAAAA,SAAS,EAAEC,IAAI,EAFF;AAGbC,IAAAA,KAAK,EAAEjB,GAAG,CAACI,IAAJ,CAASa,KAHH;AAIbC,IAAAA,KAAK,EAAElB,GAAG,CAACI,IAAJ,CAASc,KAJH;AAKbC,IAAAA,YAAY,EAAEnB,GAAG,CAACI,IAAJ,CAASe,YALV;AAMbC,IAAAA,KAAK,EAAEpB,GAAG,CAACI,IAAJ,CAASgB,KANH;AAObC,IAAAA,KAAK,EAAErB,GAAG,CAACI,IAAJ,CAASiB,KAPH;AAQbC,IAAAA,KAAK,EAAEtB,GAAG,CAACI,IAAJ,CAASkB,KARH;AASbC,IAAAA,YAAY,EAAEvB,GAAG,CAACI,IAAJ,CAASmB,YATV;AAUbjB,IAAAA,MAAM,EAAEN,GAAG,CAACI,IAAJ,CAASE;AAVJ,GAAf;;AAaA,MAAMkB,IAAI,GAAGC,kBAAMC,IAAN,CAAW,UAAAC,CAAC;AAAA,WAAIA,CAAC,CAACT,KAAF,KAAYR,MAAM,CAACQ,KAAvB;AAAA,GAAZ,CAAb;;AACA,MAAI,CAACM,IAAL,EAAW;AACT,WAAOvB,GAAG,CAACK,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAC1BD,MAAAA,MAAM,EAAE,GADkB;AAE1BD,MAAAA,KAAK,EAAE;AAFmB,KAArB,CAAP;AAID;;AAEDQ,uBAASe,IAAT,CAAclB,MAAd;;AACA,SAAOT,GAAG,CAACK,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAC1BD,IAAAA,MAAM,EAAE,GADkB;AAE1BuB,IAAAA,IAAI,EAAEnB;AAFoB,GAArB,CAAP;AAID,CAhCD;;eAkCeX,O","sourceRoot":"G:\\Auto-Mart-Website\\server\\controllers","sourcesContent":["import postCars from '../models/postCars';\nimport users from '../models/users';\nimport validateCars from '../helpers/validateCars';\n\nconst postAds = (req, res) => {\n  const { error } = validateCars.validation(req.body);\n  if (error) {\n    return res.status(400).json({ status: 400, error: error.details[0].message });\n  }\n\n  const postAd = {\n    id: parseInt(postCars.length + 1, 10),\n    createdOn: Date(),\n    owner: req.body.owner,\n    email: req.body.email,\n    manufacturer: req.body.manufacturer,\n    model: req.body.model,\n    price: req.body.price,\n    state: req.body.state,\n    productImage: req.body.productImage,\n    status: req.body.status\n  };\n\n  const user = users.find(p => p.email === postAd.email);\n  if (!user) {\n    return res.status(404).json({\n      status: 404,\n      error: 'User not found',\n    });\n  }\n\n  postCars.push(postAd);\n  return res.status(201).json({\n    status: 201,\n    data: postAd\n  });\n};\n\nexport default postAds;\n"]}