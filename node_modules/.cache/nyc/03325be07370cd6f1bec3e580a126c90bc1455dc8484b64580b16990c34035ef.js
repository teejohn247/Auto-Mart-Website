"use strict";var cov_v1rbb16nk=function(){var path="C:\\Auto-Mart-Website\\server\\middleware\\auth.js";var hash="3787397966f5aa379b2417c8935faef31781a54a";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Auto-Mart-Website\\server\\middleware\\auth.js",statementMap:{"0":{start:{line:3,column:0},end:{line:5,column:3}},"1":{start:{line:6,column:0},end:{line:6,column:28}},"2":{start:{line:8,column:20},end:{line:8,column:67}},"3":{start:{line:10,column:39},end:{line:10,column:95}},"4":{start:{line:12,column:11},end:{line:32,column:1}},"5":{start:{line:13,column:2},end:{line:29,column:3}},"6":{start:{line:14,column:17},end:{line:14,column:42}},"7":{start:{line:15,column:4},end:{line:18,column:7}},"8":{start:{line:15,column:34},end:{line:18,column:7}},"9":{start:{line:20,column:16},end:{line:20,column:69}},"10":{start:{line:22,column:4},end:{line:22,column:21}},"11":{start:{line:23,column:4},end:{line:23,column:11}},"12":{start:{line:25,column:4},end:{line:28,column:7}},"13":{start:{line:31,column:2},end:{line:31,column:15}},"14":{start:{line:34,column:15},end:{line:34,column:19}},"15":{start:{line:35,column:0},end:{line:35,column:30}}},fnMap:{"0":{name:"_interopRequireDefault",decl:{start:{line:10,column:9},end:{line:10,column:31}},loc:{start:{line:10,column:37},end:{line:10,column:97}},line:10},"1":{name:"auth",decl:{start:{line:12,column:20},end:{line:12,column:24}},loc:{start:{line:12,column:41},end:{line:32,column:1}},line:12}},branchMap:{"0":{loc:{start:{line:10,column:46},end:{line:10,column:94}},type:"cond-expr",locations:[{start:{line:10,column:70},end:{line:10,column:73}},{start:{line:10,column:76},end:{line:10,column:94}}],line:10},"1":{loc:{start:{line:10,column:46},end:{line:10,column:67}},type:"binary-expr",locations:[{start:{line:10,column:46},end:{line:10,column:49}},{start:{line:10,column:53},end:{line:10,column:67}}],line:10},"2":{loc:{start:{line:15,column:4},end:{line:18,column:7}},type:"if",locations:[{start:{line:15,column:4},end:{line:18,column:7}},{start:{line:15,column:4},end:{line:18,column:7}}],line:15},"3":{loc:{start:{line:15,column:8},end:{line:15,column:32}},type:"binary-expr",locations:[{start:{line:15,column:8},end:{line:15,column:15}},{start:{line:15,column:19},end:{line:15,column:32}}],line:15}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0},f:{"0":0,"1":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0]},_coverageSchema:"43e27e138ebf9cfc5966b082cf9a028302ed4184",hash:"3787397966f5aa379b2417c8935faef31781a54a"};var coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}return coverage[path]=coverageData;}();cov_v1rbb16nk.s[0]++;Object.defineProperty(exports,"__esModule",{value:true});cov_v1rbb16nk.s[1]++;exports["default"]=void 0;var _jsonwebtoken=(cov_v1rbb16nk.s[2]++,_interopRequireDefault(require("jsonwebtoken")));function _interopRequireDefault(obj){cov_v1rbb16nk.f[0]++;cov_v1rbb16nk.s[3]++;return(cov_v1rbb16nk.b[1][0]++,obj)&&(cov_v1rbb16nk.b[1][1]++,obj.__esModule)?(cov_v1rbb16nk.b[0][0]++,obj):(cov_v1rbb16nk.b[0][1]++,{"default":obj});}cov_v1rbb16nk.s[4]++;var auth=function auth(req,res,next){cov_v1rbb16nk.f[1]++;cov_v1rbb16nk.s[5]++;try{var header=(cov_v1rbb16nk.s[6]++,req.headers.authorization);cov_v1rbb16nk.s[7]++;if((cov_v1rbb16nk.b[3][0]++,!header)||(cov_v1rbb16nk.b[3][1]++,header==='')){cov_v1rbb16nk.b[2][0]++;cov_v1rbb16nk.s[8]++;return res.status(401).json({status:401,error:'Unauthorized'});}else{cov_v1rbb16nk.b[2][1]++;}var token=(cov_v1rbb16nk.s[9]++,_jsonwebtoken["default"].verify(header,'SECRET_KEY'));cov_v1rbb16nk.s[10]++;req.user=token;cov_v1rbb16nk.s[11]++;next();}catch(_unused){cov_v1rbb16nk.s[12]++;return res.status(401).json({status:401,error:'Invalid token!'});}cov_v1rbb16nk.s[13]++;return false;};var _default=(cov_v1rbb16nk.s[14]++,auth);cov_v1rbb16nk.s[15]++;exports["default"]=_default;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dGguanMiXSwibmFtZXMiOlsiYXV0aCIsInJlcSIsInJlcyIsIm5leHQiLCJoZWFkZXIiLCJoZWFkZXJzIiwiYXV0aG9yaXphdGlvbiIsInN0YXR1cyIsImpzb24iLCJlcnJvciIsInRva2VuIiwiand0IiwidmVyaWZ5IiwidXNlciJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOzs7O0FBRUEsSUFBTUEsSUFBSSxHQUFHLFNBQVBBLElBQU8sQ0FBQ0MsR0FBRCxFQUFNQyxHQUFOLEVBQVdDLElBQVgsRUFBb0I7QUFDL0IsTUFBSTtBQUNGLFFBQU1DLE1BQU0sR0FBR0gsR0FBRyxDQUFDSSxPQUFKLENBQVlDLGFBQTNCO0FBQ0EsUUFBSSxDQUFDRixNQUFELElBQVdBLE1BQU0sS0FBSyxFQUExQixFQUE4QixPQUFPRixHQUFHLENBQUNLLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFFRCxNQUFBQSxNQUFNLEVBQUUsR0FBVjtBQUFlRSxNQUFBQSxLQUFLLEVBQUU7QUFBdEIsS0FBckIsQ0FBUDs7QUFFOUIsUUFBTUMsS0FBSyxHQUFHQyx5QkFBSUMsTUFBSixDQUFXUixNQUFYLEVBQW1CLFlBQW5CLENBQWQ7O0FBQ0FILElBQUFBLEdBQUcsQ0FBQ1ksSUFBSixHQUFXSCxLQUFYO0FBQ0FQLElBQUFBLElBQUk7QUFDTCxHQVBELENBT0UsZ0JBQU07QUFDTixXQUFPRCxHQUFHLENBQUNLLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFFRCxNQUFBQSxNQUFNLEVBQUUsR0FBVjtBQUFlRSxNQUFBQSxLQUFLLEVBQUU7QUFBdEIsS0FBckIsQ0FBUDtBQUNEOztBQUNELFNBQU8sS0FBUDtBQUNELENBWkQ7O2VBY2VULEkiLCJzb3VyY2VSb290IjoiQzpcXEF1dG8tTWFydC1XZWJzaXRlXFxzZXJ2ZXJcXG1pZGRsZXdhcmUiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgand0IGZyb20gJ2pzb253ZWJ0b2tlbic7XHJcblxyXG5jb25zdCBhdXRoID0gKHJlcSwgcmVzLCBuZXh0KSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGhlYWRlciA9IHJlcS5oZWFkZXJzLmF1dGhvcml6YXRpb247XHJcbiAgICBpZiAoIWhlYWRlciB8fCBoZWFkZXIgPT09ICcnKSByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBzdGF0dXM6IDQwMSwgZXJyb3I6ICdVbmF1dGhvcml6ZWQnIH0pO1xyXG5cclxuICAgIGNvbnN0IHRva2VuID0gand0LnZlcmlmeShoZWFkZXIsICdTRUNSRVRfS0VZJyk7XHJcbiAgICByZXEudXNlciA9IHRva2VuO1xyXG4gICAgbmV4dCgpO1xyXG4gIH0gY2F0Y2gge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgc3RhdHVzOiA0MDEsIGVycm9yOiAnSW52YWxpZCB0b2tlbiEnIH0pO1xyXG4gIH1cclxuICByZXR1cm4gZmFsc2U7XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBhdXRoO1xyXG4iXX0=