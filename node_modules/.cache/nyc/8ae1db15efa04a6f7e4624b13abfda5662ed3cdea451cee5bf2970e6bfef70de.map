{"version":3,"sources":["cars.js"],"names":["router","express","Router","storage","multer","diskStorage","destination","req","file","cb","filename","Date","now","originalname","fileFilter","mimetype","upload","limits","fileSize","post","auth","array","ads","patch","markSold","deletePosted"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;AAGA,IAAMA,MAAM,GAAGC,oBAAQC,MAAR,EAAf;;AAGA,IAAMC,OAAO,GAAGC,mBAAOC,WAAP,CAAmB;AAC/BC,EAAAA,WAAW,EAAE,qBAACC,GAAD,EAAMC,IAAN,EAAYC,EAAZ,EAAmB;AAC5BA,IAAAA,EAAE,CAAC,IAAD,EAAO,SAAP,CAAF;AACH,GAH8B;AAI/BC,EAAAA,QAAQ,EAAE,kBAACH,GAAD,EAAMC,IAAN,EAAYC,EAAZ,EAAmB;AACzBA,IAAAA,EAAE,CAAC,IAAD,EAAOE,IAAI,CAACC,GAAL,KAAaJ,IAAI,CAACK,YAAzB,CAAF;AACH;AAN8B,CAAnB,CAAhB;;AASA,IAAMC,UAAU,GAAG,SAAbA,UAAa,CAACP,GAAD,EAAMC,IAAN,EAAYC,EAAZ,EAAmB;AAClC,MAAID,IAAI,CAACO,QAAL,KAAkB,YAAlB,IAAkCP,IAAI,CAACO,QAAL,KAAkB,WAAxD,EAAqE;AACpEN,IAAAA,EAAE,CAAC,IAAD,EAAO,IAAP,CAAF;AACA,GAFD,MAEO;AACHA,IAAAA,EAAE,CAAC,IAAD,EAAO,KAAP,CAAF;AACH;AACJ,CAND;;AAOA,IAAMO,MAAM,GAAG,wBAAO;AAClBb,EAAAA,OAAO,EAAPA,OADkB;AAElBc,EAAAA,MAAM,EAAE;AACJC,IAAAA,QAAQ,EAAE,OAAO;AADb,GAFU;AAKlBJ,EAAAA,UAAU,EAAVA;AALkB,CAAP,CAAf;AAQAd,MAAM,CAACmB,IAAP,CAAY,GAAZ,EAAiBC,gBAAjB,EAAuBJ,MAAM,CAACK,KAAP,CAAa,cAAb,EAA6B,CAA7B,CAAvB,EAAwDC,eAAxD;AACAtB,MAAM,CAACuB,KAAP,CAAa,MAAb,EAAqBH,gBAArB,EAA2BI,kBAA3B;AACAxB,MAAM,UAAN,CAAc,MAAd,EAAsByB,uBAAtB;eAEezB,M","sourceRoot":"G:\\Auto-Mart-Website\\server\\routes","sourcesContent":["import express from 'express';\r\nimport multer from 'multer';\r\nimport imageUploader from '../middleware/imageUploader';\r\nimport ads from '../controllers/ads';\r\nimport markSold from '../controllers/markAd';\r\nimport deletePosted from '../controllers/adminDelete';\r\nimport auth from '../middleware/auth';\r\n\r\n\r\nconst router = express.Router();\r\n\r\n\r\nconst storage = multer.diskStorage({\r\n    destination: (req, file, cb) => {\r\n        cb(null, 'uploads');\r\n    },\r\n    filename: (req, file, cb) => {\r\n        cb(null, Date.now() + file.originalname);\r\n    }\r\n});\r\n\r\nconst fileFilter = (req, file, cb) => {\r\n    if (file.mimetype === 'image/jpeg' || file.mimetype === 'image/png') {\r\n     cb(null, true);\r\n    } else {\r\n        cb(null, false);\r\n    }\r\n};\r\nconst upload = multer({\r\n    storage,\r\n    limits: {\r\n        fileSize: 1024 * 1024\r\n    },\r\n    fileFilter\r\n});\r\n\r\nrouter.post('/', auth, upload.array('productImage', 6), ads);\r\nrouter.patch('/:id', auth, markSold);\r\nrouter.delete('/:id', deletePosted);\r\n\r\nexport default router;\r\n"]}